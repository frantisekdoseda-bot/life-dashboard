<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Life Dashboard</title>

<style>
body{
background:#0b0f14;
color:white;
font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto;
padding:16px;
margin:0;
}

.card{
background:#111723;
padding:18px;
border-radius:20px;
margin-bottom:16px;
box-shadow:0 10px 25px rgba(0,0,0,0.35);
}

.big{
font-size:30px;
font-weight:600;
}

.small{
opacity:.7;
font-size:13px;
margin-bottom:6px;
}

.row{
display:flex;
justify-content:space-between;
margin-top:6px;
font-size:15px;
}

.ok{color:#51cf66;}
.warn{color:#ff6b6b;}
</style>
</head>

<body>

<!-- POČASÍ -->
<div class="card">
<div class="small">POČASÍ</div>
<div class="big" id="temp">Načítám...</div>
<div class="small" id="city">podle polohy</div>
</div>

<!-- FINANCE -->
<div class="card">
<div class="small">TENTO TÝDEN</div>
<div class="big" id="spent">0 Kč</div>
<div class="row"><span>Limit</span><span>10 000 Kč</span></div>
<div class="row"><span>Zbývá</span><span id="left">10 000 Kč</span></div>
<div class="row"><span>Status</span><span id="status" class="ok">V pohodě</span></div>
</div>

<!-- RYCHLÝ ZÁPIS -->
<div class="card">
<div class="small">PŘIDAT VÝDAJ</div>
<input id="add" type="number" placeholder="Kolik Kč" style="width:100%;padding:14px;border-radius:12px;border:none;background:#0b0f14;color:white;font-size:18px;">
<button onclick="addMoney()" style="margin-top:10px;width:100%;padding:14px;border:none;border-radius:14px;background:#3b82f6;color:white;font-size:16px;">Přidat</button>
</div>

<!-- POZNÁMKA -->
<div class="card">
<div class="small">POZNÁMKA</div>
<textarea placeholder="rychlá poznámka..." style="width:100%;height:80px;background:#0b0f14;border:none;border-radius:12px;color:white;padding:12px;"></textarea>
</div>

<script>
let total = localStorage.getItem("spent") ? Number(localStorage.getItem("spent")) : 0;
const limit = 10000;

function render(){
document.getElementById("spent").innerText = total + " Kč";
let left = limit-total;
if(left<0) left=0;
document.getElementById("left").innerText = left + " Kč";

if(total>limit){
document.getElementById("status").innerText="Přes limit";
document.getElementById("status").className="warn";
}else{
document.getElementById("status").innerText="V pohodě";
document.getElementById("status").className="ok";
}
}

function addMoney(){
let val = Number(document.getElementById("add").value);
if(!val) return;
total+=val;
localStorage.setItem("spent",total);
document.getElementById("add").value="";
render();
}

render();

navigator.geolocation.getCurrentPosition(pos=>{
let lat=pos.coords.latitude;
let lon=pos.coords.longitude;

fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
.then(r=>r.json())
.then(data=>{
document.getElementById("temp").innerText=data.current_weather.temperature+"°C";
});
});
</script>

</body>
</html>
